"use strict";var S=Object.create;var l=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var V=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var b=(t,e)=>{for(var r in e)l(t,r,{get:e[r],enumerable:!0})},g=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of T(e))!N.call(t,o)&&o!==r&&l(t,o,{get:()=>e[o],enumerable:!(i=E(e,o))||i.enumerable});return t};var U=(t,e,r)=>(r=t!=null?S(V(t)):{},g(e||!t||!t.__esModule?l(r,"default",{value:t,enumerable:!0}):r,t)),A=t=>g(l({},"__esModule",{value:!0}),t);var L={};b(L,{default:()=>C});module.exports=A(L);var a=require("@raycast/api");var s=[];for(let t=0;t<256;++t)s.push((t+256).toString(16).slice(1));function x(t,e=0){return(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase()}var h=U(require("node:crypto")),m=new Uint8Array(256),d=m.length;function c(){return d>m.length-16&&(h.default.randomFillSync(m),d=0),m.slice(d,d+=16)}var I=U(require("node:crypto")),y={randomUUID:I.default.randomUUID};function F(t,e,r){if(y.randomUUID&&!e&&!t)return y.randomUUID();t=t||{};let i=t.random||(t.rng||c)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=i[o];return e}return x(i)}var p=F;var u=require("@raycast/api");var w=async(t,e)=>{try{let r=await u.LocalStorage.getItem("uuidHistory");if(r||(r="[]"),typeof r!="string")return;let i=JSON.parse(r);i.push({uuid:t,timestamp:new Date,type:e}),await u.LocalStorage.setItem("uuidHistory",JSON.stringify(i))}catch{await(0,u.showToast)({style:u.Toast.Style.Failure,title:"Error saving history",message:"Failed to save history to local storage"})}};async function D(t,e,r=!1,i="uuidV4"){let o=Array.from(Array(e)).map(()=>{let n=t();return r?n.toUpperCase():n});for(let n of o)await w(n,i);return o}var v=1e4,C=async t=>{let{numberOfUUIDsToGenerate:e}=t.arguments,{upperCaseLetters:r,defaultAction:i}=(0,a.getPreferenceValues)();e||(e="1");try{let o=parseInt(e,10);if(isNaN(o))throw new Error("INVALID_NUMBER");if(o<=v){let n=await D(p,o,r,"uuidV4");i==="copy"?await a.Clipboard.copy(n.join(`\r
`)):i==="paste"&&await a.Clipboard.paste(n.join(`\r
`));let f=i==="copy"?"Copied":"Pasted",H=n.length>1?`${f} ${n.length} new UUIDs.`:`${f} new UUID: ${n}`;await(0,a.showHUD)(`\u2705 ${H}`)}else await(0,a.showToast)({style:a.Toast.Style.Failure,title:"Too many UUIDs requested.",message:`${o} exceeds maximum UUIDs of ${v}. Try a lower number.`})}catch{await(0,a.showToast)({style:a.Toast.Style.Failure,title:"Invalid number.",message:"An invalid number has been provided. Try an actual number."})}};
