"use strict";var B=Object.create;var g=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty;var j=(t,r)=>{for(var e in r)g(t,e,{get:r[e],enumerable:!0})},b=(t,r,e,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of M(r))!J.call(t,o)&&o!==e&&g(t,o,{get:()=>r[o],enumerable:!(i=C(r,o))||i.enumerable});return t};var G=(t,r,e)=>(e=t!=null?B(R(t)):{},b(r||!t||!t.__esModule?g(e,"default",{value:t,enumerable:!0}):e,t)),X=t=>b(g({},"__esModule",{value:!0}),t);var e5={};j(e5,{default:()=>t5});module.exports=X(e5);var d=require("@raycast/api");var S=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function k(t){return typeof t=="string"&&S.test(t)}var $=k;var a=[];for(let t=0;t<256;++t)a.push((t+256).toString(16).slice(1));function v(t,r=0){return(a[t[r+0]]+a[t[r+1]]+a[t[r+2]]+a[t[r+3]]+"-"+a[t[r+4]]+a[t[r+5]]+"-"+a[t[r+6]]+a[t[r+7]]+"-"+a[t[r+8]]+a[t[r+9]]+"-"+a[t[r+10]]+a[t[r+11]]+a[t[r+12]]+a[t[r+13]]+a[t[r+14]]+a[t[r+15]]).toLowerCase()}function z(t,r=0){let e=v(t,r);if(!$(e))throw TypeError("Stringified UUID is invalid");return e}var h=z;var T=G(require("node:crypto")),I=new Uint8Array(256),w=I.length;function E(){return w>I.length-16&&(T.default.randomFillSync(I),w=0),I.slice(w,w+=16)}var H=null,A=null,y=0;function Y(t,r,e){t=t||{};let i=r&&e||0,o=r||new Uint8Array(16),f=t.random||(t.rng||E)(),p=t.msecs!==void 0?t.msecs:Date.now(),c=t.seq!==void 0?t.seq:null,l=A,u=H;return p>y&&t.msecs===void 0&&(y=p,c!==null&&(l=null,u=null)),c!==null&&(c>2147483647&&(c=2147483647),l=c>>>19&4095,u=c&524287),(l===null||u===null)&&(l=f[6]&127,l=l<<8|f[7],u=f[8]&63,u=u<<8|f[9],u=u<<5|f[10]>>>3),p+1e4>y&&c===null?++u>524287&&(u=0,++l>4095&&(l=0,y++)):y=p,A=l,H=u,o[i++]=y/1099511627776&255,o[i++]=y/4294967296&255,o[i++]=y/16777216&255,o[i++]=y/65536&255,o[i++]=y/256&255,o[i++]=y&255,o[i++]=l>>>4&15|112,o[i++]=l&255,o[i++]=u>>>13&63|128,o[i++]=u>>>5&255,o[i++]=u<<3&255|f[10]&7,o[i++]=f[11],o[i++]=f[12],o[i++]=f[13],o[i++]=f[14],o[i++]=f[15],r||v(o)}var x=Y;function Z(t){let r,e=new Uint8Array(16);return e[0]=(r=parseInt(t.slice(0,8),16))>>>24,e[1]=r>>>16&255,e[2]=r>>>8&255,e[3]=r&255,e[4]=(r=parseInt(t.slice(9,13),16))>>>8,e[5]=r&255,e[6]=(r=parseInt(t.slice(14,18),16))>>>8,e[7]=r&255,e[8]=(r=parseInt(t.slice(19,23),16))>>>8,e[9]=r&255,e[10]=(r=parseInt(t.slice(24,36),16))/1099511627776&255,e[11]=r/4294967296&255,e[12]=r>>>24&255,e[13]=r>>>16&255,e[14]=r>>>8&255,e[15]=r&255,e}var s="0123456789abcdefghjkmnpqrstvwxyz",n=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,255,18,19,255,20,21,255,22,23,24,25,26,255,27,28,29,30,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function D(t){let r=new Array(26).fill("");if(t.length!==16)throw new Error(`Invalid length. Expected 16 bytes, got ${t.length}. Input: ${t}`);return r[0]=s[(t[0]&224)>>5],r[1]=s[t[0]&31],r[2]=s[(t[1]&248)>>3],r[3]=s[(t[1]&7)<<2|(t[2]&192)>>6],r[4]=s[(t[2]&62)>>1],r[5]=s[(t[2]&1)<<4|(t[3]&240)>>4],r[6]=s[(t[3]&15)<<1|(t[4]&128)>>7],r[7]=s[(t[4]&124)>>2],r[8]=s[(t[4]&3)<<3|(t[5]&224)>>5],r[9]=s[t[5]&31],r[10]=s[(t[6]&248)>>3],r[11]=s[(t[6]&7)<<2|(t[7]&192)>>6],r[12]=s[(t[7]&62)>>1],r[13]=s[(t[7]&1)<<4|(t[8]&240)>>4],r[14]=s[(t[8]&15)<<1|(t[9]&128)>>7],r[15]=s[(t[9]&124)>>2],r[16]=s[(t[9]&3)<<3|(t[10]&224)>>5],r[17]=s[t[10]&31],r[18]=s[(t[11]&248)>>3],r[19]=s[(t[11]&7)<<2|(t[12]&192)>>6],r[20]=s[(t[12]&62)>>1],r[21]=s[(t[12]&1)<<4|(t[13]&240)>>4],r[22]=s[(t[13]&15)<<1|(t[14]&128)>>7],r[23]=s[(t[14]&124)>>2],r[24]=s[(t[14]&3)<<3|(t[15]&224)>>5],r[25]=s[t[15]&31],r.join("")}function N(t){if(t.length!==26)throw new Error(`Invalid length. Expected 26 bytes, got ${t.length}. Input: ${t}`);let e=new TextEncoder().encode(t);if(n[e[0]]===255||n[e[1]]===255||n[e[2]]===255||n[e[3]]===255||n[e[4]]===255||n[e[5]]===255||n[e[6]]===255||n[e[7]]===255||n[e[8]]===255||n[e[9]]===255||n[e[10]]===255||n[e[11]]===255||n[e[12]]===255||n[e[13]]===255||n[e[14]]===255||n[e[15]]===255||n[e[16]]===255||n[e[17]]===255||n[e[18]]===255||n[e[19]]===255||n[e[20]]===255||n[e[21]]===255||n[e[22]]===255||n[e[23]]===255||n[e[24]]===255||n[e[25]]===255)throw new Error("Invalid base32 character");let i=new Uint8Array(16);return i[0]=n[e[0]]<<5|n[e[1]],i[1]=n[e[2]]<<3|n[e[3]]>>2,i[2]=(n[e[3]]&3)<<6|n[e[4]]<<1|n[e[5]]>>4,i[3]=(n[e[5]]&15)<<4|n[e[6]]>>1,i[4]=(n[e[6]]&1)<<7|n[e[7]]<<2|n[e[8]]>>3,i[5]=(n[e[8]]&7)<<5|n[e[9]],i[6]=n[e[10]]<<3|n[e[11]]>>2,i[7]=(n[e[11]]&3)<<6|n[e[12]]<<1|n[e[13]]>>4,i[8]=(n[e[13]]&15)<<4|n[e[14]]>>1,i[9]=(n[e[14]]&1)<<7|n[e[15]]<<2|n[e[16]]>>3,i[10]=(n[e[16]]&7)<<5|n[e[17]],i[11]=n[e[18]]<<3|n[e[19]]>>2,i[12]=(n[e[19]]&3)<<6|n[e[20]]<<1|n[e[21]]>>4,i[13]=(n[e[21]]&15)<<4|n[e[22]]>>1,i[14]=(n[e[22]]&1)<<7|n[e[23]]<<2|n[e[24]]>>3,i[15]=(n[e[24]]&7)<<5|n[e[25]],i}function K(t){if(t.length>63)return!1;let r,e,i;for(e=0,i=t.length;e<i;e+=1){r=t.charCodeAt(e);let o=r>96&&r<123,f=r===95;if((e===0||e===i-1)&&!o||!(o||f))return!1}return!0}function P(t="",r=""){if(!K(t))throw new Error("Invalid prefix. Must be at most 63 ascii letters [a-z_]");let e;if(r)e=r;else{let i=new Uint8Array(16);x(void 0,i),e=D(i)}if(e.length!==26)throw new Error(`Invalid length. Suffix should have 26 characters, got ${e.length}`);if(e[0]>"7")throw new Error("Invalid suffix. First character must be in the range [0-7]");return N(e),t===""?e:`${t}_${e}`}function Q(t,r){let e,i,o=t.lastIndexOf("_");if(o===-1)e="",i=t;else if(e=t.substring(0,o),i=t.substring(o+1),!e)throw new Error(`Invalid TypeId. Prefix cannot be empty when there's a separator: ${t}`);if(!i)throw new Error("Invalid TypeId. Suffix cannot be empty");if(r&&e!==r)throw new Error(`Invalid TypeId. Prefix mismatch. Expected ${r}, got ${e}`);return P(e,i)}function V(t){let r=t.lastIndexOf("_");return r===-1?"":t.substring(0,r)}function _(t){let r=t.lastIndexOf("_");return r===-1?t:t.substring(r+1)}var U=class{constructor(t,r=""){this.prefix=t,this.suffix=r;let e=P(t,r);this.prefix=V(e),this.suffix=_(e)}getType(){return this.prefix}getSuffix(){return this.suffix}asType(t){let r=this;if(r.prefix!==t)throw new Error(`Cannot convert TypeID of type ${r.prefix} to type ${t}`);return r}toUUIDBytes(){return N(this.suffix)}toUUID(){return h(this.toUUIDBytes())}toString(){return this.prefix===""?this.suffix:`${this.prefix}_${this.suffix}`}static fromString(t,r){let e=Q(t,r);return new U(V(e),_(e))}static fromUUIDBytes(t,r){let e=D(r);return new U(t,e)}static fromUUID(t,r){let e=D(Z(r));return new U(t,e)}};function F(t="",r=""){return new U(t,r)}var m=require("@raycast/api");var L=async(t,r)=>{try{let e=await m.LocalStorage.getItem("uuidHistory");if(e||(e="[]"),typeof e!="string")return;let i=JSON.parse(e);i.push({uuid:t,timestamp:new Date,type:r}),await m.LocalStorage.setItem("uuidHistory",JSON.stringify(i))}catch{await(0,m.showToast)({style:m.Toast.Style.Failure,title:"Error saving history",message:"Failed to save history to local storage"})}};async function q(t,r,e=!1,i="uuidV4"){let o=Array.from(Array(r)).map(()=>{let f=t();return e?f.toUpperCase():f});for(let f of o)await L(f,i);return o}var O=1e4,t5=async t=>{let{numberOfUUIDsToGenerate:r}=t.arguments,{upperCaseLetters:e,defaultAction:i,base32Encoding:o}=(0,d.getPreferenceValues)();r||(r="1");try{let f=parseInt(r,10);if(isNaN(f))throw new Error("INVALID_NUMBER");if(f<=O){let c=await q(o?()=>F("").toString():x,f,e,"uuidV7");i==="copy"?await d.Clipboard.copy(c.join(`\r
`)):i==="paste"&&await d.Clipboard.paste(c.join(`\r
`));let l=i==="copy"?"Copied":"Pasted",u=c.length>1?`${l} ${c.length} new UUIDs.`:`${l} new UUID: ${c}`;await(0,d.showHUD)(`\u2705 ${u}`)}else await(0,d.showToast)({style:d.Toast.Style.Failure,title:"Too many UUIDs requested.",message:`${f} exceeds maximum UUIDs of ${O}. Try a lower number.`})}catch(f){switch(f.message){case"INVALID_NUMBER":await(0,d.showToast)({style:d.Toast.Style.Failure,title:"Invalid number.",message:"An invalid number has been provided. Try an actual number."});break}}};
