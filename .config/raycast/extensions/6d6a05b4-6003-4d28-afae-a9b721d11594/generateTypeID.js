"use strict";var M=Object.create;var x=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var G=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var J=(e,r)=>{for(var t in r)x(e,t,{get:r[t],enumerable:!0})},b=(e,r,t,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of C(r))!R.call(e,o)&&o!==t&&x(e,o,{get:()=>r[o],enumerable:!(i=B(r,o))||i.enumerable});return e};var j=(e,r,t)=>(t=e!=null?M(G(e)):{},b(r||!e||!e.__esModule?x(t,"default",{value:e,enumerable:!0}):t,e)),z=e=>b(x({},"__esModule",{value:!0}),e);var t5={};J(t5,{default:()=>e5});module.exports=z(t5);var u=require("@raycast/api");var T=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function k(e){return typeof e=="string"&&T.test(e)}var S=k;var f=[];for(let e=0;e<256;++e)f.push((e+256).toString(16).slice(1));function U(e,r=0){return(f[e[r+0]]+f[e[r+1]]+f[e[r+2]]+f[e[r+3]]+"-"+f[e[r+4]]+f[e[r+5]]+"-"+f[e[r+6]]+f[e[r+7]]+"-"+f[e[r+8]]+f[e[r+9]]+"-"+f[e[r+10]]+f[e[r+11]]+f[e[r+12]]+f[e[r+13]]+f[e[r+14]]+f[e[r+15]]).toLowerCase()}function X(e,r=0){let t=U(e,r);if(!S(t))throw TypeError("Stringified UUID is invalid");return t}var g=X;var $=j(require("node:crypto")),w=new Uint8Array(256),h=w.length;function v(){return h>w.length-16&&($.default.randomFillSync(w),h=0),w.slice(h,h+=16)}var H=null,A=null,d=0;function Y(e,r,t){e=e||{};let i=r&&t||0,o=r||new Uint8Array(16),a=e.random||(e.rng||v)(),y=e.msecs!==void 0?e.msecs:Date.now(),m=e.seq!==void 0?e.seq:null,c=A,l=H;return y>d&&e.msecs===void 0&&(d=y,m!==null&&(c=null,l=null)),m!==null&&(m>2147483647&&(m=2147483647),c=m>>>19&4095,l=m&524287),(c===null||l===null)&&(c=a[6]&127,c=c<<8|a[7],l=a[8]&63,l=l<<8|a[9],l=l<<5|a[10]>>>3),y+1e4>d&&m===null?++l>524287&&(l=0,++c>4095&&(c=0,d++)):d=y,A=c,H=l,o[i++]=d/1099511627776&255,o[i++]=d/4294967296&255,o[i++]=d/16777216&255,o[i++]=d/65536&255,o[i++]=d/256&255,o[i++]=d&255,o[i++]=c>>>4&15|112,o[i++]=c&255,o[i++]=l>>>13&63|128,o[i++]=l>>>5&255,o[i++]=l<<3&255|a[10]&7,o[i++]=a[11],o[i++]=a[12],o[i++]=a[13],o[i++]=a[14],o[i++]=a[15],r||U(o)}var D=Y;function Z(e){let r,t=new Uint8Array(16);return t[0]=(r=parseInt(e.slice(0,8),16))>>>24,t[1]=r>>>16&255,t[2]=r>>>8&255,t[3]=r&255,t[4]=(r=parseInt(e.slice(9,13),16))>>>8,t[5]=r&255,t[6]=(r=parseInt(e.slice(14,18),16))>>>8,t[7]=r&255,t[8]=(r=parseInt(e.slice(19,23),16))>>>8,t[9]=r&255,t[10]=(r=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=r/4294967296&255,t[12]=r>>>24&255,t[13]=r>>>16&255,t[14]=r>>>8&255,t[15]=r&255,t}var s="0123456789abcdefghjkmnpqrstvwxyz",n=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,255,18,19,255,20,21,255,22,23,24,25,26,255,27,28,29,30,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function E(e){let r=new Array(26).fill("");if(e.length!==16)throw new Error(`Invalid length. Expected 16 bytes, got ${e.length}. Input: ${e}`);return r[0]=s[(e[0]&224)>>5],r[1]=s[e[0]&31],r[2]=s[(e[1]&248)>>3],r[3]=s[(e[1]&7)<<2|(e[2]&192)>>6],r[4]=s[(e[2]&62)>>1],r[5]=s[(e[2]&1)<<4|(e[3]&240)>>4],r[6]=s[(e[3]&15)<<1|(e[4]&128)>>7],r[7]=s[(e[4]&124)>>2],r[8]=s[(e[4]&3)<<3|(e[5]&224)>>5],r[9]=s[e[5]&31],r[10]=s[(e[6]&248)>>3],r[11]=s[(e[6]&7)<<2|(e[7]&192)>>6],r[12]=s[(e[7]&62)>>1],r[13]=s[(e[7]&1)<<4|(e[8]&240)>>4],r[14]=s[(e[8]&15)<<1|(e[9]&128)>>7],r[15]=s[(e[9]&124)>>2],r[16]=s[(e[9]&3)<<3|(e[10]&224)>>5],r[17]=s[e[10]&31],r[18]=s[(e[11]&248)>>3],r[19]=s[(e[11]&7)<<2|(e[12]&192)>>6],r[20]=s[(e[12]&62)>>1],r[21]=s[(e[12]&1)<<4|(e[13]&240)>>4],r[22]=s[(e[13]&15)<<1|(e[14]&128)>>7],r[23]=s[(e[14]&124)>>2],r[24]=s[(e[14]&3)<<3|(e[15]&224)>>5],r[25]=s[e[15]&31],r.join("")}function P(e){if(e.length!==26)throw new Error(`Invalid length. Expected 26 bytes, got ${e.length}. Input: ${e}`);let t=new TextEncoder().encode(e);if(n[t[0]]===255||n[t[1]]===255||n[t[2]]===255||n[t[3]]===255||n[t[4]]===255||n[t[5]]===255||n[t[6]]===255||n[t[7]]===255||n[t[8]]===255||n[t[9]]===255||n[t[10]]===255||n[t[11]]===255||n[t[12]]===255||n[t[13]]===255||n[t[14]]===255||n[t[15]]===255||n[t[16]]===255||n[t[17]]===255||n[t[18]]===255||n[t[19]]===255||n[t[20]]===255||n[t[21]]===255||n[t[22]]===255||n[t[23]]===255||n[t[24]]===255||n[t[25]]===255)throw new Error("Invalid base32 character");let i=new Uint8Array(16);return i[0]=n[t[0]]<<5|n[t[1]],i[1]=n[t[2]]<<3|n[t[3]]>>2,i[2]=(n[t[3]]&3)<<6|n[t[4]]<<1|n[t[5]]>>4,i[3]=(n[t[5]]&15)<<4|n[t[6]]>>1,i[4]=(n[t[6]]&1)<<7|n[t[7]]<<2|n[t[8]]>>3,i[5]=(n[t[8]]&7)<<5|n[t[9]],i[6]=n[t[10]]<<3|n[t[11]]>>2,i[7]=(n[t[11]]&3)<<6|n[t[12]]<<1|n[t[13]]>>4,i[8]=(n[t[13]]&15)<<4|n[t[14]]>>1,i[9]=(n[t[14]]&1)<<7|n[t[15]]<<2|n[t[16]]>>3,i[10]=(n[t[16]]&7)<<5|n[t[17]],i[11]=n[t[18]]<<3|n[t[19]]>>2,i[12]=(n[t[19]]&3)<<6|n[t[20]]<<1|n[t[21]]>>4,i[13]=(n[t[21]]&15)<<4|n[t[22]]>>1,i[14]=(n[t[22]]&1)<<7|n[t[23]]<<2|n[t[24]]>>3,i[15]=(n[t[24]]&7)<<5|n[t[25]],i}function K(e){if(e.length>63)return!1;let r,t,i;for(t=0,i=e.length;t<i;t+=1){r=e.charCodeAt(t);let o=r>96&&r<123,a=r===95;if((t===0||t===i-1)&&!o||!(o||a))return!1}return!0}function F(e="",r=""){if(!K(e))throw new Error("Invalid prefix. Must be at most 63 ascii letters [a-z_]");let t;if(r)t=r;else{let i=new Uint8Array(16);D(void 0,i),t=E(i)}if(t.length!==26)throw new Error(`Invalid length. Suffix should have 26 characters, got ${t.length}`);if(t[0]>"7")throw new Error("Invalid suffix. First character must be in the range [0-7]");return P(t),e===""?t:`${e}_${t}`}function Q(e,r){let t,i,o=e.lastIndexOf("_");if(o===-1)t="",i=e;else if(t=e.substring(0,o),i=e.substring(o+1),!t)throw new Error(`Invalid TypeId. Prefix cannot be empty when there's a separator: ${e}`);if(!i)throw new Error("Invalid TypeId. Suffix cannot be empty");if(r&&t!==r)throw new Error(`Invalid TypeId. Prefix mismatch. Expected ${r}, got ${t}`);return F(t,i)}function _(e){let r=e.lastIndexOf("_");return r===-1?"":e.substring(0,r)}function N(e){let r=e.lastIndexOf("_");return r===-1?e:e.substring(r+1)}var I=class{constructor(e,r=""){this.prefix=e,this.suffix=r;let t=F(e,r);this.prefix=_(t),this.suffix=N(t)}getType(){return this.prefix}getSuffix(){return this.suffix}asType(e){let r=this;if(r.prefix!==e)throw new Error(`Cannot convert TypeID of type ${r.prefix} to type ${e}`);return r}toUUIDBytes(){return P(this.suffix)}toUUID(){return g(this.toUUIDBytes())}toString(){return this.prefix===""?this.suffix:`${this.prefix}_${this.suffix}`}static fromString(e,r){let t=Q(e,r);return new I(_(t),N(t))}static fromUUIDBytes(e,r){let t=E(r);return new I(e,t)}static fromUUID(e,r){let t=E(Z(r));return new I(e,t)}};function V(e="",r=""){return new I(e,r)}var p=require("@raycast/api");var L=async(e,r)=>{try{let t=await p.LocalStorage.getItem("uuidHistory");if(t||(t="[]"),typeof t!="string")return;let i=JSON.parse(t);i.push({uuid:e,timestamp:new Date,type:r}),await p.LocalStorage.setItem("uuidHistory",JSON.stringify(i))}catch{await(0,p.showToast)({style:p.Toast.Style.Failure,title:"Error saving history",message:"Failed to save history to local storage"})}};async function O(e,r,t=!1,i="uuidV4"){let o=Array.from(Array(r)).map(()=>{let a=e();return t?a.toUpperCase():a});for(let a of o)await L(a,i);return o}var q=1e4,e5=async e=>{e.arguments.numberOfUUIDsToGenerate||(e.arguments.numberOfUUIDsToGenerate="1");let{prefix:r,numberOfUUIDsToGenerate:t}=e.arguments,{upperCaseLetters:i,defaultAction:o}=(0,u.getPreferenceValues)();try{let a=parseInt(t,10);if(isNaN(a))throw new Error("INVALID_NUMBER");if(a<=q){let y=await O(()=>V(r).toString(),a,i,"typeid");o==="copy"?await u.Clipboard.copy(y.join(`\r
`)):o==="paste"&&await u.Clipboard.paste(y.join(`\r
`));let m=o==="copy"?"Copied":"Pasted",c=y.length>1?`${m} ${y.length} new UUIDs.`:`${m} new UUID: ${y}`;await(0,u.showHUD)(`\u2705 ${c}`)}else await(0,u.showToast)({style:u.Toast.Style.Failure,title:"Too many UUIDs requested.",message:`${a} exceeds maximum UUIDs of ${q}. Try a lower number.`})}catch(a){switch(a.message){case"INVALID_NUMBER":await(0,u.showToast)({style:u.Toast.Style.Failure,title:"Invalid number.",message:"An invalid number has been provided. Try an actual number."});break;case"Invalid prefix. Must be at most 63 ascii letters [a-z_]":await(0,u.showToast)({style:u.Toast.Style.Failure,title:"Invalid prefix.",message:"Must be at most 63 ascii letters [a-z_]"});break}}};
