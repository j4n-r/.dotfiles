"use strict";var S=Object.create;var y=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var V=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty;var L=(e,t)=>{for(var r in t)y(e,r,{get:t[r],enumerable:!0})},h=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of b(t))!T.call(e,a)&&a!==r&&y(e,a,{get:()=>t[a],enumerable:!(n=H(t,a))||n.enumerable});return e};var F=(e,t,r)=>(r=e!=null?S(V(e)):{},h(t||!e||!e.__esModule?y(r,"default",{value:e,enumerable:!0}):r,e)),C=e=>h(y({},"__esModule",{value:!0}),e);var k={};L(k,{default:()=>G});module.exports=C(k);var s=require("@raycast/api");var I=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function P(e){return typeof e=="string"&&I.test(e)}var p=P;function M(e){if(!p(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var U=M;var o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function w(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}function $(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var R="6ba7b810-9dad-11d1-80b4-00c04fd430c8",_="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function g(e,t,r){function n(a,i,l,u){var d;if(typeof a=="string"&&(a=$(a)),typeof i=="string"&&(i=U(i)),((d=i)===null||d===void 0?void 0:d.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+a.length);if(f.set(i),f.set(a,i.length),f=r(f),f[6]=f[6]&15|t,f[8]=f[8]&63|128,l){u=u||0;for(let m=0;m<16;++m)l[u+m]=f[m];return l}return w(f)}try{n.name=e}catch{}return n.DNS=R,n.URL=_,n}var v=F(require("node:crypto"));function B(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),v.default.createHash("sha1").update(e).digest()}var D=B;var O=g("v5",80,D),x=O;var c=require("@raycast/api");var E=async(e,t)=>{try{let r=await c.LocalStorage.getItem("uuidHistory");if(r||(r="[]"),typeof r!="string")return;let n=JSON.parse(r);n.push({uuid:e,timestamp:new Date,type:t}),await c.LocalStorage.setItem("uuidHistory",JSON.stringify(n))}catch{await(0,c.showToast)({style:c.Toast.Style.Failure,title:"Error saving history",message:"Failed to save history to local storage"})}};async function A(e,t,r=!1,n="uuidV4"){let a=Array.from(Array(t)).map(()=>{let i=e();return r?i.toUpperCase():i});for(let i of a)await E(i,n);return a}var N=1e4,G=async e=>{let{numberOfUUIDsToGenerate:t}=e.arguments,{name:r}=e.arguments,{upperCaseLetters:n,uuidNamespace:a,defaultAction:i}=(0,s.getPreferenceValues)();t||(t="1");try{let l=parseInt(t,10);if(isNaN(l))throw new Error("INVALID_NUMBER");if(!p(a))throw new Error("INVALID_NAMESPACE");if(l<=N){let u=await A(()=>x(r,a),l,n,"uuidV5");i==="copy"?await s.Clipboard.copy(u.join(`\r
`)):i==="paste"&&await s.Clipboard.paste(u.join(`\r
`));let d=i==="copy"?"Copied":"Pasted",f=u.length>1?`${d} ${u.length} new UUIDs.`:`${d} new UUID: ${u}`;await(0,s.showHUD)(`\u2705 ${f}`)}else await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Too many UUIDs requested.",message:`${l} exceeds maximum UUIDs of ${N}. Try a lower number.`})}catch(l){switch(l.message){case"INVALID_NAMESPACE":await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Invalid namespace.",message:"An invalid namespace has been defined. A namespace must be a valid UUID."});break;case"INVALID_NUMBER":await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Invalid number.",message:"An invalid number has been provided. Try an actual number."});break}}};
