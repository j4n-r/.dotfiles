"use strict";var S=Object.create;var y=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var V=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty;var L=(e,t)=>{for(var r in t)y(e,r,{get:t[r],enumerable:!0})},x=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of H(t))!T.call(e,i)&&i!==r&&y(e,i,{get:()=>t[i],enumerable:!(n=b(t,i))||n.enumerable});return e};var C=(e,t,r)=>(r=e!=null?S(V(e)):{},x(t||!e||!e.__esModule?y(r,"default",{value:e,enumerable:!0}):r,e)),F=e=>x(y({},"__esModule",{value:!0}),e);var G={};L(G,{default:()=>k});module.exports=F(G);var s=require("@raycast/api");var h=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function P(e){return typeof e=="string"&&h.test(e)}var p=P;var a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function I(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}function $(e){if(!p(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var w=$;function M(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var O="6ba7b810-9dad-11d1-80b4-00c04fd430c8",R="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function g(e,t,r){function n(i,o,u,f){var d;if(typeof i=="string"&&(i=M(i)),typeof o=="string"&&(o=w(o)),((d=o)===null||d===void 0?void 0:d.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,u){f=f||0;for(let m=0;m<16;++m)u[f+m]=l[m];return u}return I(l)}try{n.name=e}catch{}return n.DNS=O,n.URL=R,n}var v=C(require("crypto"));function _(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),v.default.createHash("sha1").update(e).digest()}var D=_;var B=g("v5",80,D),U=B;var c=require("@raycast/api");var E=async(e,t)=>{try{let r=await c.LocalStorage.getItem("uuidHistory");if(r||(r="[]"),typeof r!="string")return;let n=JSON.parse(r);n.push({uuid:e,timestamp:new Date,type:t}),await c.LocalStorage.setItem("uuidHistory",JSON.stringify(n))}catch{await(0,c.showToast)({style:c.Toast.Style.Failure,title:"Error saving history",message:"Failed to save history to local storage"})}};async function A(e,t,r=!1,n="uuidV4"){let i=Array.from(Array(t)).map(()=>{let o=e();return r?o.toUpperCase():o});for(let o of i)await E(o,n);return i}var N=1e4,k=async e=>{let{numberOfUUIDsToGenerate:t}=e.arguments,{name:r}=e.arguments,{upperCaseLetters:n,uuidNamespace:i,defaultAction:o}=(0,s.getPreferenceValues)();t||(t="1");try{let u=parseInt(t,10);if(isNaN(u))throw new Error("INVALID_NUMBER");if(!p(i))throw new Error("INVALID_NAMESPACE");if(u<=N){let f=await A(()=>U(r,i),u,n,"uuidV5");o==="copy"?await s.Clipboard.copy(f.join(`\r
`)):o==="paste"&&await s.Clipboard.paste(f.join(`\r
`));let d=o==="copy"?"Copied":"Pasted",l=f.length>1?`${d} ${f.length} new UUIDs.`:`${d} new UUID: ${f}`;await(0,s.showHUD)(`\u2705 ${l}`)}else await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Too many UUIDs requested.",message:`${u} exceeds maximum UUIDs of ${N}. Try a lower number.`})}catch(u){switch(u.message){case"INVALID_NAMESPACE":await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Invalid namespace.",message:"An invalid namespace has been defined. A namespace must be a valid UUID."});break;case"INVALID_NUMBER":await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Invalid number.",message:"An invalid number has been provided. Try an actual number."});break}}};
